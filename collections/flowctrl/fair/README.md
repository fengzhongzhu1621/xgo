# 随机公平库 satmihir/fair
FAIR 是一个 Go 库,旨在确保资源受限环境中的公平性。它有助于在资源短缺时将有限的资源(例如数据库/blob 存储吞吐量、作业执行资源等)均匀分配给多个客户端,防止基于客户端行为的过度分配和饥饿。

FAIR 的核心算法基于 随机公平 BLUE[1] ,这种算法通常用于网络拥塞控制,但做了一些修改。FAIR 的理念是只在真正资源短缺时进行限制,而不是像令牌桶或漏桶等方法那样,即使资源仍然可用也可能拒绝请求(FAIR 的创造性配置可以实现这种类型的行为,但我们不鼓励这样做)。由于状态存储在多级  Bloom Filter[2]  风格的数据结构中,所需的内存是恒定的,不会随客户端数量的增加而扩展。在正确配置时,FAIR 可以扩展到非常大数量的客户端,具有较低的误报概率和接近零的持续误报概率,这要归功于哈希轮换机制,该机制定期重新哈希客户端以避免任何相关行为持续超过几分钟。

# 特性
* 框架和协议无关,易于集成到任何 HTTP/GRPC 服务中。
* 开箱即用的自动调优,配置最少,但需要时可以完全调优。
* 可扩展到大量客户端,内存需求恒定。
* 简单的资源和错误跟踪模型,可以轻松转化为多种类型的限制场景。
