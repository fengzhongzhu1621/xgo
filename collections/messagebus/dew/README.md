# CQRS
CQRS（命令查询责任分离）是一种将写入（命令）和读取（查询）分离的方式。这意味着我们可以有一个数据库来管理写入部分。而读取部分（也称为视图或投影）是从写入部分派生出来的，可以由一个或多个数据库来管理（取决于我们的用例）。大多数情况下，读取部分是异步计算的，这意味着两个部分并不严格一致。

# Dew 简介
Dew 是一个专为 Go 语言设计的命令总线（Command Bus）库，它以开发者体验和生产力为核心。Dew 采用了命令导向的接口模式，允许关注点分离、模块化，并提高代码库的可读性，从而减少不必要的认知负担。

提供了一个利用 Go 泛型处理命令和查询的总线接口，允许更好的性能和易用性。

提供的统一接口消除了创建和管理不同接口的模拟对象的需要，使测试用例更易读且更有趣。

凭借其内置的异步查询支持，Dew 可以并发处理多个查询，减少从多个源检索数据的时间。


```sh
go get github.com/go-dew/dew
```

# 特点
* 轻量级：代码行数（LOC）大约为 600 行。
* 实用主义：专注于提升开发者体验和生产力。
* 生产就绪：拥有 100%的测试覆盖率。
* 零依赖：无外部依赖。
* 快速：利用 Trie 数据结构进行命令路由，详见性能基准测试。

# 术语

* Action：改变应用状态的操作。为了避免与 Go 中的类似术语混淆，我们使用“Action”一词，它等同于命令查询分离（CQS）和命令查询责任分离（CQRS）模式中通常所知的“Command”。Dew 中的每个动作都必须实现Action接口定义的Validate方法。这个Validate方法负责在处理之前检查动作的数据是否正确。
* Query：检索数据的操作。任何实现了Query接口的结构体中的每个查询，Query接口是一个空接口。查询不需要Validate方法，因为它们不改变应用的状态。
* Middleware：在命令执行前后执行逻辑（例如，记录日志、授权、事务管理）的函数。中间件系统允许对命令处理器组进行细粒度控制，可以轻松添加诸如记录日志、授权和事务管理等功能。
* Bus：管理处理器的注册和将动作及查询路由到它们各自的处理器。
